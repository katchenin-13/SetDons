{% extends 'base-layout.html.twig' %}

{% block title %}Statistique{% endblock %}
{% block header %}Statistique{% endblock %}
{% block breadcrumb %}{% endblock %}

{% block stylesheets %}

    <link rel="stylesheet" type="text/css" href="{{ asset('dist/assets/fonts/simple-line-icons/style.min.css') }}">
    <link rel="stylesheet" type="text/css" href="{{ asset('dist/assets/css/pages/card-statistics.min.css') }}">
    <link rel="stylesheet" type="text/css" href="{{ asset('dist/assets/css/pages/vertical-timeline.min.css') }}">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.9.4/Chart.min.css" integrity="sha512-/zs32ZEJh+/EO2N1b0PEdoA10JkdC3zJ8L5FTiQu82LR9S/rOQNfQN7U59U9BC12swNeRAz3HSzIL2vpp4fv3w==" crossorigin="anonymous" />

{% endblock %}

{% block body %}
   <div class="row"></div>

{% endblock %}


{% block java %}
    <script src="{{ asset('dist/assets/js/scripts/charts/chartjs/pie-doughnut/pie.min.js') }}"></script>
    {#<script src="{{ asset('dist/assets/js/scripts/charts/chartjs/pie-doughnut/pie-simple.min.js') }}"></script>#}
    <script src="{{ asset('dist/assets/js/scripts/charts/chartjs/pie-doughnut/doughnut.min.js') }}"></script>
   {# <script src="{{ asset('dist/assets/js/scripts/charts/chartjs/pie-doughnut/doughnut-simple.min.js') }}"></script>#}
    <script src="{{ asset('dist/assets/vendors/js/extensions/jquery.knob.min.js') }}"></script>
    <script src="{{ asset('dist/assets/vendors/js/charts/raphael-min.js') }}"></script>
    <script src="{{ asset('dist/assets/vendors/js/charts/morris.min.js') }}"></script>
    <script src="{{ asset('dist/assets/vendors/js/charts/jquery.sparkline.min.js') }}"></script>
    <script src="{{ asset('dist/assets/vendors/js/charts/chart.min.js') }}"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.9.4/Chart.min.js" integrity="sha512-d9xgZrVZpmmQlfonhQUvTR7lMPtO7NkZMkA0ABN3PHCbKA5nqylQ/yWlFAyY6hYgdF1Qh6nYiuADWwKB4C2WSw==" crossorigin="anonymous"></script>
<script>

    
$('body').on('click', '.test', function (e) {
    e.preventDefault();
    var data = {};
      data['debut'] = document.getElementById('debut').value;
      data['fin'] = document.getElementById('fin').value;
      const url = this.href;

    $.ajax({
        url:'/api',
        type: 'get',
        data:data,
        dataType: 'json',
        success: function (response, status) {
        console.log(response);
        }
    });
})

  $(window).on("load",(function()
  {
      var a=$("#simple-doughnut-chart_annee");
      new Chart(a,{type:"bar",
          options:{responsive:!0,maintainAspectRatio:!1
              ,responsiveAnimationDuration:500},
          data:{
              labels:{{ mois|raw }},
              datasets:[{
                  label:{{ mois|raw }},
                  data:{{ y|raw }},
                  backgroundColor:["#00A5A8","#626E82","#FF7D4D","#FF4558","#16D39A"]
              }]}})
  }));
</script>
{% endblock %}
